<?xml version="1.0" encoding="UTF-8"?>
<dop:dop_manifest xmlns:dop="http://obinexus.org/dop/v1.0"
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="http://obinexus.org/dop/v1.0 ../schemas/dop_manifest.xsd"
                  schema_version="1.0.0"
                  manifest_id="time_components_p2p_demo">

  <dop:metadata>
    <dop:build_id>time_comp_build_20250720_001</dop:build_id>
    <dop:creation_timestamp>2025-07-20T10:30:00Z</dop:creation_timestamp>
    <dop:last_update_timestamp>2025-07-20T10:30:00Z</dop:last_update_timestamp>
    <dop:creator>OBINexus-DOP-System</dop:creator>
    <dop:version>1.0.0</dop:version>
    <dop:nnam_id>NNAM-ID-001</dop:nnam_id>
    <dop:build_target>riftlang.exe → .so.a → rift.exe → gosilang</dop:build_target>
  </dop:metadata>

  <dop:build_topology>
    <dop:topology_type>P2P</dop:topology_type>
    <dop:fault_tolerance>true</dop:fault_tolerance>
    <dop:p2p_enabled>true</dop:p2p_enabled>
    <dop:max_nodes>4</dop:max_nodes>
    <dop:network_configuration>
      <dop:communication_protocol>TCP</dop:communication_protocol>
      <dop:encryption_enabled>true</dop:encryption_enabled>
      <dop:timeout_ms>5000</dop:timeout_ms>
      <dop:retry_count>3</dop:retry_count>
      <dop:heartbeat_interval_ms>1000</dop:heartbeat_interval_ms>
    </dop:network_configuration>
    <dop:nodes>
      <dop:node>
        <dop:node_id>node_alarm_01</dop:node_id>
        <dop:component_ref>alarm_component_01</dop:component_ref>
        <dop:peer_connections>
          <dop:peer>node_clock_01</dop:peer>
          <dop:peer>node_timer_01</dop:peer>
        </dop:peer_connections>
        <dop:is_fault_tolerant>true</dop:is_fault_tolerant>
        <dop:load_balancing_weight>1.0</dop:load_balancing_weight>
      </dop:node>
      <dop:node>
        <dop:node_id>node_clock_01</dop:node_id>
        <dop:component_ref>clock_component_01</dop:component_ref>
        <dop:peer_connections>
          <dop:peer>node_alarm_01</dop:peer>
          <dop:peer>node_stopwatch_01</dop:peer>
        </dop:peer_connections>
        <dop:is_fault_tolerant>true</dop:is_fault_tolerant>
        <dop:load_balancing_weight>1.0</dop:load_balancing_weight>
      </dop:node>
      <dop:node>
        <dop:node_id>node_stopwatch_01</dop:node_id>
        <dop:component_ref>stopwatch_component_01</dop:component_ref>
        <dop:peer_connections>
          <dop:peer>node_clock_01</dop:peer>
          <dop:peer>node_timer_01</dop:peer>
        </dop:peer_connections>
        <dop:is_fault_tolerant>true</dop:is_fault_tolerant>
        <dop:load_balancing_weight>1.0</dop:load_balancing_weight>
      </dop:node>
      <dop:node>
        <dop:node_id>node_timer_01</dop:node_id>
        <dop:component_ref>timer_component_01</dop:component_ref>
        <dop:peer_connections>
          <dop:peer>node_alarm_01</dop:peer>
          <dop:peer>node_stopwatch_01</dop:peer>
        </dop:peer_connections>
        <dop:is_fault_tolerant>true</dop:is_fault_tolerant>
        <dop:load_balancing_weight>1.0</dop:load_balancing_weight>
      </dop:node>
    </dop:nodes>
  </dop:build_topology>

  <dop:components>
    <dop:component>
      <dop:component_id>alarm_component_01</dop:component_id>
      <dop:component_name>Alarm Component</dop:component_name>
      <dop:component_type>ALARM</dop:component_type>
      <dop:version>1.0.0</dop:version>
      <dop:state>READY</dop:state>
      <dop:gate_state>CLOSED</dop:gate_state>
      <dop:data_model>
        <dop:immutable_data>true</dop:immutable_data>
        <dop:transparent_structure>true</dop:transparent_structure>
        <dop:validation_rules>
          <dop:rule>
            <dop:field_name>alarm_time</dop:field_name>
            <dop:rule_type>time_format</dop:rule_type>
            <dop:rule_value>HH:MM:SS</dop:rule_value>
            <dop:error_message>Invalid time format</dop:error_message>
          </dop:rule>
        </dop:validation_rules>
        <dop:serialization_format>JSON</dop:serialization_format>
      </dop:data_model>
      <dop:behavior_interface>
        <dop:programming_paradigm>HYBRID</dop:programming_paradigm>
        <dop:function_signatures>
          <dop:function>
            <dop:name>dop_alarm_set_time</dop:name>
            <dop:return_type>int</dop:return_type>
            <dop:parameters>
              <dop:parameter>
                <dop:name>component</dop:name>
                <dop:type>dop_component_t*</dop:type>
                <dop:is_const>false</dop:is_const>
              </dop:parameter>
              <dop:parameter>
                <dop:name>alarm_time</dop:name>
                <dop:type>dop_time_data_t</dop:type>
                <dop:is_const>true</dop:is_const>
              </dop:parameter>
            </dop:parameters>
            <dop:is_pure_function>false</dop:is_pure_function>
          </dop:function>
        </dop:function_signatures>
        <dop:oop_interface>
          <dop:class_name>AlarmComponent</dop:class_name>
          <dop:methods>
            <dop:method>
              <dop:name>setTime</dop:name>
              <dop:visibility>public</dop:visibility>
              <dop:is_virtual>false</dop:is_virtual>
              <dop:function_ref>dop_alarm_set_time</dop:function_ref>
            </dop:method>
          </dop:methods>
          <dop:encapsulation_level>private</dop:encapsulation_level>
        </dop:oop_interface>
        <dop:adapter_configuration>
          <dop:func_to_oop_enabled>true</dop:func_to_oop_enabled>
          <dop:oop_to_func_enabled>true</dop:oop_to_func_enabled>
          <dop:adapter_overhead_ms>0.1</dop:adapter_overhead_ms>
          <dop:conversion_cache_enabled>true</dop:conversion_cache_enabled>
        </dop:adapter_configuration>
      </dop:behavior_interface>
      <dop:integrity_checksum>A1B2C3D4E5F6</dop:integrity_checksum>
    </dop:component>
    <!-- Additional components (clock, stopwatch, timer) would follow similar structure -->
  </dop:components>

  <dop:governance>
    <dop:gate_control_enabled>true</dop:gate_control_enabled>
    <dop:access_control_policy>strict</dop:access_control_policy>
    <dop:audit_logging_enabled>true</dop:audit_logging_enabled>
    <dop:isolation_boundaries>
      <dop:memory_isolation>true</dop:memory_isolation>
      <dop:process_isolation>false</dop:process_isolation>
      <dop:network_isolation>false</dop:network_isolation>
      <dop:file_system_isolation>true</dop:file_system_isolation>
    </dop:isolation_boundaries>
    <dop:compliance_validation>
      <dop:dop_principles_enforced>true</dop:dop_principles_enforced>
      <dop:immutability_verified>true</dop:immutability_verified>
      <dop:data_logic_separation_verified>true</dop:data_logic_separation_verified>
      <dop:transparency_verified>true</dop:transparency_verified>
    </dop:compliance_validation>
  </dop:governance>

  <dop:cryptographic_verification>
    <dop:integrity_algorithm>SHA256</dop:integrity_algorithm>
    <dop:signature_algorithm>RSA-2048</dop:signature_algorithm>
    <dop:key_management>
      <dop:public_key_path>keys/manifest.pub</dop:public_key_path>
      <dop:private_key_path>keys/manifest.key</dop:private_key_path>
      <dop:key_rotation_enabled>true</dop:key_rotation_enabled>
      <dop:key_expiration_timestamp>2025-12-31T23:59:59Z</dop:key_expiration_timestamp>
    </dop:key_management>
    <dop:verification_chain>
      <dop:verification_step>
        <dop:step_name>component_integrity</dop:step_name>
        <dop:verification_method>checksum_validation</dop:verification_method>
        <dop:expected_result>pass</dop:expected_result>
      </dop:verification_step>
      <dop:verification_step>
        <dop:step_name>topology_validation</dop:step_name>
        <dop:verification_method>p2p_connectivity_test</dop:verification_method>
        <dop:expected_result>pass</dop:expected_result>
        <dop:dependency>component_integrity</dop:dependency>
      </dop:verification_step>
    </dop:verification_chain>
  </dop:cryptographic_verification>

</dop:dop_manifest>
